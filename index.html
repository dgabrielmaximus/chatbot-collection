<html>
  <head>
    <title>Chatbot Collection</title>
  </head>
  <body>
    <h1>Shelf Chatbot</h1>
    <script type="text/javascript" charset="utf-8">
      (function (g, e, n, es, ys) {
        g["_genesysJs"] = e;
        g[e] =
          g[e] ||
          function () {
            (g[e].q = g[e].q || []).push(arguments);
          };
        g[e].t = 1 * new Date();
        g[e].c = es;
        ys = document.createElement("script");
        ys.async = 1;
        ys.src = n;
        ys.charset = "utf-8";
        document.head.appendChild(ys);
      })(
        window,
        "Genesys",
        "https://apps.cac1.pure.cloud/genesys-bootstrap/genesys.min.js",
        {
          environment: "prod-cac1",
          deploymentId: "0c1537cd-8f3b-4082-af6e-fcb103bcd71f",
        }
      );
    </script>
    <script type="text/javascript" charset="utf-8">
      Genesys("subscribe", "Launcher.ready", function (o) {
        console.log("It works!");
      });
      Genesys(
        "subscribe",
        "MessagingService.sendingMessage",
        function ({ data }) {
          console.log(data);
          fetch(
            "https://fznarc8l91.execute-api.us-east-1.amazonaws.com/params?question=what%20is%20BCEID?&sessionId=9c72cbce-37ad-4106-8633-bae4980c4867",
            { mode: "cors" }
          )
            .then((response) => response.json())
            .then((json) => console.log(json));
        }
      );
      Genesys(
        "subscribe",
        "MessagingService.messagesReceived",
        function ({ data }) {
          console.log(data);
        }
      );
      // Genesys("subscribe", "Messenger.ready", function () {
      //   Genesys(
      //     "command",
      //     "Messenger.open",
      //     {},
      //     () => {
      //       /*fulfilled callback*/
      //       console.log("Messenger opened");
      //     },
      //     (error) => {
      //       /*rejected callback*/
      //       console.log("Couldn't open messenger.", error);
      //     }
      //   );
      // });
      // Genesys("subscribe", "MessagingService.ready", function () {
      //   Genesys("command", "MessagingService.sendTyping");
      // });
      Genesys("subscribe", "MessagingService.ready", () => {
        // Genesys(
        //   "command",
        //   "MessagingService.sendMessage",
        //   { message: "Genesys" },
        //   (data) => {
        //     /*fulfilled callback*/
        //     // data ? console.log(data) : null;
        //     console.log("Message sent", data);
        //   },
        //   (error) => {
        //     /*rejected callback*/
        //     // error ? console.log(error) : null;
        //     console.log("Error sending message", error);
        //   }
        // );
      });
      Genesys("subscribe", "MessagingService.error", function ({ data }) {
        console.log(data);
      });
    </script>
  </body>
</html>
